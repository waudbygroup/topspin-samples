{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"NMR Sample Manager for TopSpin","text":"<p>A lightweight sample metadata management system that runs natively within Bruker TopSpin, helping you track what's in your NMR tube alongside your spectral data.</p> <p></p>"},{"location":"#the-problem","title":"The Problem","text":"<p>NMR spectroscopy has excellent software for managing experiments, but sample tracking has always been a blind spot. When you return to old datasets months or years later, can you confidently answer what the protein concentration was, what buffer was used, or what isotopic labeling scheme was employed? Most NMR users rely on lab notebooks, inconsistent text files, or memory, which becomes a real problem when preparing data for repository submission, writing publications, or troubleshooting experiments.</p>"},{"location":"#the-solution","title":"The Solution","text":"<p>Sample Manager creates a parallel tracking system alongside TopSpin's experiment management using simple JSON files stored with your NMR data. It provides structured metadata capture, requires no databases or servers, and the text-based format works seamlessly with version control systems like git.</p>"},{"location":"#workflow","title":"Workflow","text":"<p>Sample Manager integrates directly into your standard NMR workflow:</p> <p></p> <p>The <code>ija</code> (inject and annotate) and <code>eja</code> (eject and annotate) commands combine the physical and metadata steps, making the process seamless. Simply type <code>ija</code> when you load a sample, fill in the form, then type <code>eja</code> when you remove it.</p>"},{"location":"#key-features","title":"Key Features","text":"<p>TopSpin Integration. Runs entirely within TopSpin's Jython environment with no external dependencies. The <code>samples</code> command launches the GUI, while <code>ija</code> and <code>eja</code> provide workflow integration.</p> <p>Form-Based Data Entry. The interface is automatically generated from the JSON schema, so you never need to remember field names or formatting rules. All fields are optional, allowing you to capture what's relevant for each sample.</p> <p></p> <p>Timeline View. See your samples and experiments together in chronological order, showing when samples were created and ejected, all experiments run during each sample's lifetime, and color-coded experiment types by dimensionality.</p> <p></p> <p>Comprehensive Metadata. Track sample composition (concentrations, isotopic labeling), buffer details (components, pH, chemical shift reference), NMR tube properties (type, diameter, volume, SampleJet position), laboratory references (notebook entries, experiment IDs), and automatic timestamps for creation, modification, and ejection.</p> <p>Schema Validation. Built-in validation ensures data consistency with enforced required fields, validated number ranges, controlled vocabularies via enum fields, and graceful schema versioning for updates.</p> <p>Catalogue View. Browse and search through all your samples across directories, with filtering by users, dates, and sample composition. This makes it easy to find specific samples or review experimental campaigns.</p> <p></p> <p>Retrospective Sample Creation. Create sample entries retroactively by selecting experiments from the timeline. This is useful when annotating old data or when you forgot to create a sample entry during acquisition.</p> <p></p>"},{"location":"#the-ecosystem","title":"The Ecosystem","text":"<p>Sample Manager is part of a broader ecosystem built around a shared JSON schema. The nmr-sample-schema repository maintains the schema independently, allowing multiple tools to use the same standard. The nmr-sample-viewer is a web-based application for viewing and editing samples offline without TopSpin, providing search across directories and bulk operations. All tools read and write identical JSON files, making your metadata portable.</p> <p></p>"},{"location":"#who-should-use-this","title":"Who Should Use This","text":"<p>Sample Manager is designed for NMR spectroscopists tracking samples alongside experiments, protein NMR labs managing complex sample compositions, core facilities (especially with SampleJet automation), researchers preparing data for publication and repositories, and research groups maintaining consistent lab practices. The tool is accessible to novice NMR users while providing powerful features for experienced users.</p>"},{"location":"#design-philosophy","title":"Design Philosophy","text":"<p>Sample Manager is lightweight (no databases, just JSON files), standalone (works entirely within TopSpin), non-invasive (doesn't change TopSpin workflows, just adds metadata), future-proof (human-readable JSON with schema versioning), and user-friendly (accessible to novice NMR users, not just programmers).</p>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Installation takes about 5 minutes: clone the repository and add to TopSpin's Python path via <code>setres</code>. Follow our installation guide for detailed instructions, then try the quick start guide to create your first sample. The full documentation covers all features in detail.</p>"},{"location":"#get-help-and-contribute","title":"Get Help and Contribute","text":"<p>Browse the documentation for detailed usage information. Report bugs or request features via GitHub Issues. Contact Chris Waudby at c.waudby@ucl.ac.uk for questions or feedback. Contributions from the NMR community are welcome - see our contributing guide for how to get involved.</p> <p>Built with Python and Java Swing for Bruker TopSpin</p>"},{"location":"contributing/","title":"Contributing","text":"<p>We welcome contributions from the NMR community! Whether you're reporting bugs, suggesting features, improving documentation, or contributing code, your input helps make Sample Manager better for everyone.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":""},{"location":"contributing/#report-bugs","title":"Report Bugs","text":"<p>Found a problem? Let us know!</p> <p>How to report:</p> <ol> <li>Check existing issues - Search GitHub Issues to see if it's already reported</li> <li>Create a new issue - Click \"New Issue\" and provide:</li> <li>Clear description of the problem</li> <li>Steps to reproduce</li> <li>Expected vs. actual behavior</li> <li>Your environment (TopSpin version, Java version, OS)</li> <li>Screenshots if relevant</li> </ol> <p>Example bug report:</p> <p>Title: Timeline not showing 3D experiments</p> <p>Description: 3D experiments (PARMODE=2) appear in timeline but not color-coded as green. They show as black (1D) instead.</p> <p>Steps to reproduce: 1. Run 3D HNCO experiment 2. Open Sample Manager timeline 3. Observe experiment color</p> <p>Expected: Green text for 3D experiment Actual: Black text</p> <p>Environment: - TopSpin 4.1.3 - Java 11.0.20 - macOS 14.2</p>"},{"location":"contributing/#suggest-features","title":"Suggest Features","text":"<p>Have an idea for improvement?</p> <p>How to suggest:</p> <ol> <li>Check existing issues - Someone may have suggested it already</li> <li>Create a feature request - Explain:</li> <li>What problem does it solve?</li> <li>How would it work?</li> <li>Why would it help NMR users?</li> <li>Any examples from other tools?</li> </ol> <p>Example feature request:</p> <p>Title: Add export to CSV function</p> <p>Description: It would be useful to export sample metadata to CSV format for analysis in Excel or Python.</p> <p>Use case: We run screening experiments with 96 samples. Being able to export all sample metadata to CSV would let us analyze results more easily (correlate NMR data with sample composition).</p> <p>Proposed solution: Add \"Export CSV\" button that creates a CSV file with one row per sample and columns for all metadata fields.</p>"},{"location":"contributing/#improve-documentation","title":"Improve Documentation","text":"<p>Documentation improvements are always welcome!</p> <p>Areas to contribute:</p> <ul> <li>Fix typos or unclear explanations</li> <li>Add examples or use cases</li> <li>Improve beginner-friendliness</li> <li>Add screenshots or diagrams</li> <li>Translate to other languages</li> </ul> <p>How to contribute docs:</p> <ol> <li>Fork the repository</li> <li>Edit files in <code>docs/</code> directory (Markdown format)</li> <li>Submit a pull request</li> <li>Maintainers will review and merge</li> </ol>"},{"location":"contributing/#contribute-code","title":"Contribute Code","text":"<p>Want to fix bugs or add features yourself?</p> <p>Getting started:</p> <ol> <li> <p>Fork and clone the repository:    <pre><code>git clone https://github.com/YOUR_USERNAME/topspin-samples.git\ncd topspin-samples\n</code></pre></p> </li> <li> <p>Create a branch for your changes:    <pre><code>git checkout -b feature/your-feature-name\n</code></pre></p> </li> <li> <p>Make changes - Edit Python files in <code>src/</code></p> </li> <li> <p>Test your changes - Install locally and test in TopSpin</p> </li> <li> <p>Commit with clear messages:    <pre><code>git add .\ngit commit -m \"Add CSV export functionality\"\n</code></pre></p> </li> <li> <p>Push and create Pull Request:    <pre><code>git push origin feature/your-feature-name\n</code></pre>    Then open PR on GitHub</p> </li> </ol> <p>Code guidelines:</p> <ul> <li>Python 2.7 compatible - Sample Manager runs in Jython 2.7.2</li> <li>Pure Python only - No C extensions (Jython limitation)</li> <li>Follow existing style - Match formatting of existing code</li> <li>Comment your code - Help others understand your changes</li> <li>Test in TopSpin - Ensure it works in real TopSpin environment</li> </ul> <p>Key files:</p> <ul> <li><code>src/samples.py</code> - Main GUI application</li> <li><code>src/ija.py</code> / <code>src/eja.py</code> - Integration commands</li> <li><code>src/lib/schema_form.py</code> - Form generation from schema</li> <li><code>src/lib/sample_io.py</code> - File I/O operations</li> <li><code>src/lib/timeline.py</code> - Timeline parsing logic</li> </ul>"},{"location":"contributing/#propose-schema-changes","title":"Propose Schema Changes","text":"<p>Want to add or modify metadata fields?</p> <p>Schema changes go through the separate schema repository:</p> <p>nmr-sample-schema</p> <p>Process:</p> <ol> <li>Open issue in schema repository</li> <li>Describe proposed change:</li> <li>What field(s) to add/modify?</li> <li>What problem does it solve?</li> <li>What data type and allowed values?</li> <li>Any examples?</li> <li>Community discussion</li> <li>Schema maintainers implement and version</li> <li>Sample Manager automatically picks up changes</li> </ol> <p>Example schema proposal:</p> <p>Title: Add temperature field</p> <p>Description: Add field to record sample temperature during experiments.</p> <p>Proposed field: <pre><code>\"temperature\": {\n  \"title\": \"Temperature (K)\",\n  \"type\": \"number\",\n  \"minimum\": 0,\n  \"description\": \"Sample temperature in Kelvin\"\n}\n</code></pre></p> <p>Rationale: Temperature is a critical experimental parameter. Currently users put this in Notes, but structured field would enable searching/filtering by temperature.</p>"},{"location":"contributing/#community-guidelines","title":"Community Guidelines","text":""},{"location":"contributing/#be-respectful","title":"Be Respectful","text":"<ul> <li>Treat everyone with respect and kindness</li> <li>Welcome newcomers and help them learn</li> <li>Provide constructive feedback</li> <li>Disagree professionally</li> </ul>"},{"location":"contributing/#be-clear","title":"Be Clear","text":"<ul> <li>Use clear, descriptive titles for issues/PRs</li> <li>Provide enough detail for others to understand</li> <li>Include examples when possible</li> <li>Ask questions if something is unclear</li> </ul>"},{"location":"contributing/#be-patient","title":"Be Patient","text":"<ul> <li>Maintainers are volunteers with limited time</li> <li>Response may take days or weeks</li> <li>Complex changes require discussion and review</li> <li>Not all suggestions can be implemented</li> </ul>"},{"location":"contributing/#getting-help","title":"Getting Help","text":""},{"location":"contributing/#questions-about-using-sample-manager","title":"Questions About Using Sample Manager","text":"<ul> <li>Check the documentation</li> <li>Search existing issues</li> <li>Open a new issue with \"Question:\" prefix</li> <li>Email Chris Waudby: c.waudby@ucl.ac.uk</li> </ul>"},{"location":"contributing/#questions-about-development","title":"Questions About Development","text":"<ul> <li>Check CLAUDE.md for architecture details</li> <li>Open an issue asking for clarification</li> <li>Propose improvements to development documentation</li> </ul>"},{"location":"contributing/#questions-about-topspin-integration","title":"Questions About TopSpin Integration","text":"<ul> <li>Refer to TopSpin Python/Jython documentation</li> <li>Ask in TopSpin user forums</li> <li>Share your findings with the Sample Manager community</li> </ul>"},{"location":"contributing/#recognition","title":"Recognition","text":"<p>All contributors are valued and appreciated!</p> <ul> <li>Contributors will be acknowledged in release notes</li> <li>Significant contributions acknowledged in README</li> <li>Code contributions tracked via GitHub</li> </ul>"},{"location":"contributing/#contact","title":"Contact","text":"<p>Project Maintainer:</p> <ul> <li>Chris Waudby</li> <li>Email: c.waudby@ucl.ac.uk</li> <li>GitHub: @chriswaudby</li> <li>Institution: University College London</li> </ul> <p>Project Links:</p> <ul> <li>Main Repository: github.com/waudbygroup/topspin-samples</li> <li>Schema Repository: github.com/waudbygroup/nmr-sample-schema</li> <li>Web Viewer: github.com/waudbygroup/nmr-sample-viewer</li> <li>Issues: github.com/waudbygroup/topspin-samples/issues</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>Sample Manager is open source software. Check the repository for license details.</p> <p>By contributing, you agree that your contributions will be licensed under the same license as the project.</p> <p>Thank you for helping improve Sample Manager for the NMR community!</p>"},{"location":"related/","title":"Related Projects","text":"<p>Sample Manager is part of an ecosystem of tools for NMR sample metadata management. All tools share the same JSON schema, making your metadata portable across different applications and workflows.</p>"},{"location":"related/#core-projects","title":"Core Projects","text":""},{"location":"related/#nmr-sample-schema","title":"nmr-sample-schema","text":"<p>Repository: github.com/waudbygroup/nmr-sample-schema</p> <p>The shared JSON schema that defines the structure of NMR sample metadata.</p> <p>Key features:</p> <ul> <li>Semantic versioning for schema evolution</li> <li>JSON Schema format (widely supported)</li> <li>Community-driven development</li> <li>Documentation for all fields</li> <li>Migration guides between versions</li> </ul> <p>Why it's separate:</p> <p>Maintaining the schema independently allows: - Multiple tools to use the same standard - Community input from diverse users - Version control independent of application code - Easy adoption by other projects</p> <p>Current version: 0.0.3</p> <p>How to contribute:</p> <ul> <li>Propose new fields via GitHub Issues</li> <li>Discuss with NMR community</li> <li>Schema maintainers version and release</li> <li>All tools automatically pick up changes</li> </ul>"},{"location":"related/#nmr-sample-viewer","title":"nmr-sample-viewer","text":"<p>Repository: github.com/waudbygroup/nmr-sample-viewer</p> <p>A web-based application for viewing and editing NMR sample metadata offline, without TopSpin.</p> <p>Key features:</p> <ul> <li>Browser-based - No installation required</li> <li>Offline capable - Works without internet connection</li> <li>File System Access API - Read/write local JSON files directly</li> <li>Same schema - Full compatibility with Sample Manager</li> <li>Search and filter - Find samples across directories</li> <li>Catalogue view - Browse all samples in a project</li> </ul> <p>Use cases:</p> <ol> <li>View samples without TopSpin</li> <li>Data analysis on laptops</li> <li>Sharing data with collaborators</li> <li> <p>Preparing manuscripts</p> </li> <li> <p>Bulk metadata creation</p> </li> <li>Create multiple samples at once</li> <li>Import from CSV/Excel</li> <li> <p>Batch editing</p> </li> <li> <p>Cross-platform access</p> </li> <li>Works on Windows, Mac, Linux</li> <li>Mobile device viewing (read-only)</li> <li> <p>Any modern web browser</p> </li> <li> <p>Archive searching</p> </li> <li>Search through historical data</li> <li>Filter by date, user, composition</li> <li>Export search results</li> </ol> <p>Architecture:</p> <ul> <li>HTML/JavaScript - Static web application</li> <li>React JSON Schema Form - Automatic form generation</li> <li>File System Access API - Direct file operations</li> <li>No backend - Everything runs in browser</li> </ul> <p>Relationship to Sample Manager:</p> <ul> <li>Same JSON files - Both tools read/write identical format</li> <li>Same schema - Synchronized schema versions</li> <li>Complementary use - TopSpin integration vs. standalone viewing</li> <li>Independent operation - No communication between tools</li> </ul> <p>Screenshots:</p> <p></p> <p>Web viewer showing sample catalogue and form interface</p>"},{"location":"related/#comparison-sample-manager-vs-web-viewer","title":"Comparison: Sample Manager vs. Web Viewer","text":"Feature Sample Manager (TopSpin) Web Viewer Platform TopSpin only Any browser Installation Git clone + Python path Open URL TopSpin Integration Native commands (<code>ija</code>, <code>eja</code>) None Timeline View \u2705 Integrated with experiments \u274c Samples only Bulk Operations \u274c One at a time \u2705 Batch create/edit Search \u274c Current directory only \u2705 Cross-directory search Catalogue View \u274c \u2705 Visual browsing Auto-navigation \u2705 Current dataset \u274c Manual selection Best for Daily NMR workflow Data review &amp; analysis"},{"location":"related/#when-to-use-each-tool","title":"When to Use Each Tool","text":"<p>Use Sample Manager (TopSpin) when:</p> <ul> <li>You're actively acquiring NMR data</li> <li>You want automatic directory navigation</li> <li>You need timeline integration</li> <li>You want <code>ija</code>/<code>eja</code> workflow commands</li> </ul> <p>Use Web Viewer when:</p> <ul> <li>Reviewing data without TopSpin</li> <li>Searching across multiple projects</li> <li>Batch creating samples for planned experiments</li> <li>Sharing data with non-TopSpin users</li> <li>Working on a laptop or tablet</li> </ul> <p>Use Both:</p> <p>Many users benefit from both tools:</p> <ol> <li>During acquisition - Use Sample Manager for real-time annotation</li> <li>During analysis - Use Web Viewer to search and review all samples</li> <li>For publication - Use Web Viewer to find and verify sample details</li> <li>For collaboration - Share JSON files, collaborators use Web Viewer</li> </ol>"},{"location":"related/#future-tools","title":"Future Tools","text":"<p>The shared schema enables development of additional tools:</p>"},{"location":"related/#potential-applications","title":"Potential Applications","text":"<p>Data Repository Submission Tool</p> <ul> <li>Read sample metadata</li> <li>Generate BMRB/PDB submission files</li> <li>Validate completeness</li> <li>Auto-fill required fields</li> </ul> <p>Laboratory Information Management System (LIMS) Integration</p> <ul> <li>Sync with lab LIMS</li> <li>Import sample preparation details</li> <li>Export NMR results</li> <li>Track sample lifecycle</li> </ul> <p>Analysis Pipeline Integration</p> <ul> <li>Read metadata in Python/R scripts</li> <li>Filter samples by criteria</li> <li>Generate analysis reports</li> <li>Correlate results with sample composition</li> </ul> <p>Facility Management Dashboard</p> <ul> <li>Track spectrometer usage by sample</li> <li>Monitor SampleJet operations</li> <li>Generate usage statistics</li> <li>Invoice by sample</li> </ul>"},{"location":"related/#want-to-build-something","title":"Want to Build Something?","text":"<p>The schema is open and documented! If you build a tool that uses the nmr-sample-schema:</p> <ol> <li>Let us know - We'll add it to this page</li> <li>Share with community - Help other NMR users</li> <li>Contribute schema improvements - Your use case may need new fields</li> <li>Join the ecosystem - Build on a shared standard</li> </ol> <p>Contact: c.waudby@ucl.ac.uk</p>"},{"location":"related/#related-standards","title":"Related Standards","text":"<p>The nmr-sample-schema is inspired by and compatible with existing NMR and structural biology standards:</p>"},{"location":"related/#bmrb-biological-magnetic-resonance-bank","title":"BMRB (Biological Magnetic Resonance Bank)","text":"<ul> <li>Repository for NMR data</li> <li>Sample metadata is required for deposition</li> <li>Our schema fields map to BMRB requirements</li> <li>Potential future: direct export to BMRB format</li> </ul> <p>Website: bmrb.io</p>"},{"location":"related/#pdb-protein-data-bank","title":"PDB (Protein Data Bank)","text":"<ul> <li>Repository for protein structures</li> <li>NMR structures require experimental metadata</li> <li>Sample conditions affect structure quality</li> <li>Our schema captures relevant parameters</li> </ul> <p>Website: rcsb.org</p>"},{"location":"related/#isa-framework","title":"ISA Framework","text":"<ul> <li>Investigation-Study-Assay framework</li> <li>General experimental metadata standard</li> <li>Our schema is ISA-compatible in principle</li> <li>Potential integration for multi-omics projects</li> </ul> <p>Website: isa-tools.org</p>"},{"location":"related/#community-resources","title":"Community Resources","text":""},{"location":"related/#repositories","title":"Repositories","text":"<ul> <li>Sample Manager: github.com/waudbygroup/topspin-samples</li> <li>Schema: github.com/waudbygroup/nmr-sample-schema</li> <li>Web Viewer: github.com/waudbygroup/nmr-sample-viewer</li> </ul>"},{"location":"related/#get-involved","title":"Get Involved","text":"<ul> <li>Report issues - All repositories have GitHub Issues</li> <li>Suggest features - Community input drives development</li> <li>Contribute code - Pull requests welcome</li> <li>Share your use case - Help us understand diverse needs</li> <li>Build complementary tools - Extend the ecosystem</li> </ul>"},{"location":"related/#contact","title":"Contact","text":"<ul> <li>Chris Waudby - c.waudby@ucl.ac.uk</li> <li>GitHub Discussions - Coming soon</li> <li>NMR community forums - Share your experiences</li> </ul> <p>Together, we're building better tools for the NMR community!</p>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>This guide will walk you through installing the NMR Sample Manager in TopSpin. The process is straightforward and takes about 5 minutes.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Bruker TopSpin (any recent version with Jython 2.7.2 support)</li> <li>Git (for cloning the repository)</li> <li>Basic command line skills (we'll guide you through each step)</li> </ul> <p>Installation Location</p> <p>You cannot install Sample Manager within TopSpin's <code>/opt/topspin...</code> directories. You'll need to choose a location where you have write permissions, such as your home directory or a shared lab folder.</p>"},{"location":"getting-started/installation/#step-1-choose-installation-location","title":"Step 1: Choose Installation Location","text":"<p>First, decide where to install Sample Manager. Good options include:</p> <pre><code># In your home directory (recommended for single-user installations)\ncd ~\n\n# Or in a shared lab directory (recommended for multi-user facilities)\ncd /path/to/shared/lab/software\n</code></pre>"},{"location":"getting-started/installation/#step-2-clone-the-repository","title":"Step 2: Clone the Repository","text":"<p>Clone the Sample Manager repository using git:</p> <pre><code>git clone https://github.com/waudbygroup/topspin-samples.git\n</code></pre> <p>This will create a <code>topspin-samples</code> directory containing the application.</p> <p>What if I don't have git?</p> <p>You can download the repository as a ZIP file from GitHub, then unzip it in your chosen location.</p>"},{"location":"getting-started/installation/#step-3-configure-topspin-python-path","title":"Step 3: Configure TopSpin Python Path","text":"<p>Now we need to tell TopSpin where to find the Sample Manager code. This is done through TopSpin's <code>setres</code> utility.</p>"},{"location":"getting-started/installation/#31-configure-python-path-with-setres","title":"3.1 Configure Python Path with setres","text":"<p>In TopSpin, type <code>setres</code> to open the Resource Editor. Navigate to Directories \u2192 Manage source directories for edpul, edau, etc. In the popup window, select the Jython Programs tab and add the full path to your <code>topspin-samples/src</code> directory (e.g., <code>/home/username/topspin-samples/src</code> or <code>/Users/username/topspin-samples/src</code> on macOS). Use the full absolute path, not a relative path, and make sure to point to the <code>src</code> subdirectory.</p> <p></p>"},{"location":"getting-started/installation/#32-save-and-restart","title":"3.2 Save and Restart","text":"<ol> <li>Click \"Save\" or \"OK\" in the setres window</li> <li>Restart TopSpin to apply the changes</li> </ol> <p>Why restart?</p> <p>TopSpin only loads the Python path configuration at startup, so you need to restart for the changes to take effect.</p>"},{"location":"getting-started/installation/#step-4-verify-installation","title":"Step 4: Verify Installation","text":"<p>After restarting TopSpin, verify that Sample Manager is installed correctly:</p> <ol> <li> <p>In TopSpin's command line, type:    <pre><code>samples\n</code></pre></p> </li> <li> <p>The Sample Manager GUI window should appear:</p> </li> </ol> <p></p> <p>If you see the window, congratulations! Sample Manager is installed and ready to use.</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":"<p>Command not found</p> <p>If TopSpin says <code>samples</code> command is not found:</p> <ul> <li>Check that you added the correct path to PYTHONPATH in setres</li> <li>Make sure the path points to the <code>src</code> directory, not the parent <code>topspin-samples</code> directory</li> <li>Verify that you restarted TopSpin after making changes</li> <li>Check that the <code>samples.py</code> file exists in the <code>src</code> directory</li> </ul> <p>Import errors or Python exceptions</p> <p>If you see Python errors when running <code>samples</code>:</p> <ul> <li>Make sure you cloned the entire repository, including the <code>src/lib</code> subdirectory</li> <li>Check that all files in <code>src/</code> and <code>src/lib/</code> were copied correctly</li> <li>Try cloning the repository again in case of corrupted files</li> </ul> <p>Window appears but is blank or broken</p> <p>If the GUI appears but looks wrong:</p> <ul> <li>This may indicate a Java/Swing version compatibility issue</li> <li>Check your TopSpin and Java versions</li> <li>Report the issue on GitHub with details about your setup</li> </ul>"},{"location":"getting-started/installation/#step-5-updating-sample-manager","title":"Step 5: Updating Sample Manager","text":"<p>To update to the latest version of Sample Manager:</p> <ol> <li> <p>Open a terminal and navigate to your installation directory:    <pre><code>cd /path/to/topspin-samples\n</code></pre></p> </li> <li> <p>Pull the latest changes from GitHub:    <pre><code>git pull\n</code></pre></p> </li> <li> <p>Restart TopSpin to load the updated code</p> </li> </ol> <p>Auto-update in TopSpin</p> <p>A future version may include an auto-update feature within the GUI. For now, manual updates via git are required.</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that Sample Manager is installed, you're ready to start using it:</p> <ul> <li>Quick Start Guide - Learn the basic workflow</li> <li>Usage Guide - Explore all features in detail</li> <li>Schema Reference - Understand the metadata structure</li> </ul>"},{"location":"getting-started/installation/#multi-user-installations","title":"Multi-User Installations","text":""},{"location":"getting-started/installation/#shared-lab-setup","title":"Shared Lab Setup","text":"<p>For labs with multiple NMR users, we recommend:</p> <ol> <li> <p>Install in a shared location accessible to all users:    <pre><code>cd /opt/lab/software  # or similar shared directory\ngit clone https://github.com/waudbygroup/topspin-samples.git\n</code></pre></p> </li> <li> <p>Each user configures their own TopSpin by adding the shared path to PYTHONPATH via <code>setres</code></p> </li> <li> <p>Coordinate schema updates - when updating via <code>git pull</code>, inform all lab members to restart TopSpin</p> </li> </ol>"},{"location":"getting-started/installation/#core-facility-setup","title":"Core Facility Setup","text":"<p>For NMR facilities serving multiple research groups:</p> <ol> <li>Install Sample Manager in a central location</li> <li>Add documentation about Sample Manager to your facility's user manual</li> <li>Provide training sessions for new users</li> <li>Consider creating facility-specific templates for common sample types (see Tips &amp; Tricks)</li> </ol>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove Sample Manager:</p> <ol> <li>Open TopSpin's <code>setres</code> utility</li> <li>Remove the Sample Manager path from PYTHONPATH</li> <li>Save and restart TopSpin</li> <li>Optionally, delete the <code>topspin-samples</code> directory</li> </ol> <p>Your data is safe</p> <p>Uninstalling Sample Manager does not delete your sample metadata JSON files. These remain in your NMR data directories and can still be viewed/edited using the web-based viewer.</p> <p>Having trouble? Contact us or open an issue on GitHub.</p>"},{"location":"getting-started/quickstart/","title":"Quick Start Guide","text":"<p>This guide walks through creating and managing your first sample in about 5 minutes.</p>"},{"location":"getting-started/quickstart/#basic-workflow","title":"Basic Workflow","text":"<p>The typical workflow follows your physical NMR process: load sample \u2192 create metadata (<code>ija</code>command or \"New\" button) \u2192 run experiments \u2192 eject sample (<code>eja</code> command or \"Mark as Ejected\" button).</p>"},{"location":"getting-started/quickstart/#your-first-sample","title":"Your First Sample","text":""},{"location":"getting-started/quickstart/#open-sample-manager","title":"Open Sample Manager","text":"<p>In TopSpin, navigate to any dataset and type <code>samples</code>. The window opens and automatically navigates to the current dataset's directory.</p> <p></p>"},{"location":"getting-started/quickstart/#create-a-new-sample","title":"Create a New Sample","text":"<p>Click \"New...\" to create a sample entry. The form has several sections for Users, Sample, Buffer, NMR Tube, Laboratory Reference, and Notes. All fields are optional - enter what's relevant.</p> <p></p> <p>Let's create a simple protein NMR sample. Add your name under Users, then under Sample set the Label to <code>MyProtein_pH7</code>. Add a component with Name <code>MyProtein</code>, select <code>15N</code> for isotopic labelling, set Concentration to <code>500</code> with Unit <code>uM</code>. Under Buffer, set pH to <code>7.4</code>, Solvent to <code>10% D2O</code>, and Chemical shift reference to <code>DSS</code>. Add a buffer component with Name <code>Tris-HCl</code>, Concentration <code>50</code>, Unit <code>mM</code>. Under NMR Tube, select Diameter <code>5 mm</code>, Type <code>shigemi</code>, and Sample Volume <code>350</code> \u03bcL.</p> <p>Click \"Save\" to write the sample as a JSON file with a filename like <code>2025-10-23_143022_MyProtein_pH7.json</code>. The timestamp marks when the sample was created (injection time).</p>"},{"location":"getting-started/quickstart/#work-normally-in-topspin","title":"Work Normally in TopSpin","text":"<p>Now run your experiments in TopSpin as usual. Sample Manager doesn't interfere with your workflow.</p>"},{"location":"getting-started/quickstart/#view-the-timeline","title":"View the Timeline","text":"<p>Click the \"Timeline\" tab to see samples and experiments chronologically. The timeline shows your sample creation event, all experiments run in this directory, and color coding by experiment type (1D/2D/3D+). Double-click any experiment to open it in TopSpin.</p> <p></p>"},{"location":"getting-started/quickstart/#eject-the-sample","title":"Eject the Sample","text":"<p>When you remove the sample from the spectrometer, select it in the sample list and click \"Mark as Ejected\". This adds an ejection timestamp to the metadata. Alternatively, type <code>eja</code> in TopSpin.</p>"},{"location":"getting-started/quickstart/#using-commands","title":"Using Commands","text":"<p>Instead of GUI buttons, you can use TopSpin commands:</p> <p><code>ija</code> (inject and annotate) - When loading a new sample, this opens Sample Manager, creates a new sample form, navigates to your current directory, and auto-ejects any previous active sample. Fill in the form and save.</p> <p><code>eja</code> (eject and annotate) - When removing a sample, this marks the currently active sample as ejected by adding an ejection timestamp.</p> <p>Sample Manager enforces one active sample per directory at a time, matching physical reality. Creating a new sample automatically ejects the previous one.</p>"},{"location":"getting-started/quickstart/#editing-and-duplicating","title":"Editing and Duplicating","text":"<p>To edit an existing sample, select it and click \"Edit\" (or double-click). Modify fields and click \"Save\". The <code>modified_timestamp</code> updates automatically. Samples display in read-only mode initially - double-click or click \"Edit\" to enable editing.</p> <p>For similar samples, use the duplicate feature. Select an existing sample, click \"Duplicate...\", modify the relevant fields, and save. This copies all metadata from the template, letting you change just what's different.</p>"},{"location":"getting-started/quickstart/#common-questions","title":"Common Questions","text":"<p>Where are files stored? Sample metadata files live in your NMR data directories alongside experiments: <pre><code>/data/user/project/\n\u251c\u2500\u2500 2025-10-23_143022_MyProtein_pH7.json\n\u251c\u2500\u2500 1/ 2/ 3/ ...\n</code></pre></p> <p>Can I edit JSON manually? Yes, but be careful with syntax. The GUI is recommended for most users.</p> <p>What if I delete a JSON file? The sample metadata is lost, but experiment data is unaffected. Sample Manager only reads/writes JSON files.</p> <p>Can multiple people use the same metadata? Yes. JSON files can be shared over network file systems, committed to git, or copied between systems.</p>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<p>Explore the full usage guide for all features, read understanding the schema to learn what each field means, or check out tips and tricks for power user features.</p> <p>Questions? Contact us or open an issue.</p>"},{"location":"guide/schema/","title":"Understanding the Schema","text":"<p>This guide explains the NMR Sample Metadata schema in plain English. The schema defines what information you can record about your NMR samples and how it's structured.</p>"},{"location":"guide/schema/#what-is-a-schema","title":"What is a Schema?","text":"<p>The schema is like a template or blueprint that defines:</p> <ul> <li>What fields are available (e.g., \"pH\", \"concentration\", \"tube type\")</li> <li>What type of data each field accepts (text, numbers, dropdown choices)</li> <li>What values are allowed (e.g., pH must be between 0 and 14)</li> <li>How fields are organized into sections</li> </ul> <p>Think of it as a standardized form that ensures everyone in your lab records sample information consistently.</p>"},{"location":"guide/schema/#schema-version","title":"Schema Version","text":"<p>Current version: 0.0.3</p> <p>The schema evolves over time to add new features and fields. Each sample file records which schema version it was created with, ensuring backwards compatibility.</p>"},{"location":"guide/schema/#field-reference","title":"Field Reference","text":""},{"location":"guide/schema/#people","title":"People","text":"<p>Information about who worked with this sample.</p>"},{"location":"guide/schema/#users","title":"Users","text":"<ul> <li>Type: List of text entries</li> <li>Purpose: Names of researchers who prepared or worked with the sample</li> <li>Example: <code>[\"Alice Smith\", \"Bob Jones\"]</code></li> <li>Why it matters: Track authorship, know who to ask questions about old samples</li> </ul>"},{"location":"guide/schema/#groups","title":"Groups","text":"<ul> <li>Type: List of text entries</li> <li>Purpose: Research groups involved in the experiment</li> <li>Example: <code>[\"Waudby Lab\", \"Protein Structure Facility\"]</code></li> <li>Why it matters: Important for collaborative projects and facility usage tracking</li> </ul>"},{"location":"guide/schema/#sample","title":"Sample","text":"<p>Core information about what's in the NMR tube.</p>"},{"location":"guide/schema/#label","title":"Label","text":"<ul> <li>Type: Short text</li> <li>Purpose: Quick identifier for the sample</li> <li>Example: <code>\"HEWL_pH7_15N\"</code></li> <li>Why it matters: Used in filenames, easy reference in notes and discussions</li> </ul>"},{"location":"guide/schema/#components","title":"Components","text":"<p>Each sample can contain multiple components (proteins, ligands, etc.). For each component:</p> <p>Name - Type: Text - Purpose: Molecule or protein name - Example: <code>\"Hen Egg White Lysozyme\"</code>, <code>\"ATP\"</code>, <code>\"Ubiquitin\"</code> - Why it matters: Know exactly what you're looking at</p> <p>Concentration - Type: Number (\u2265 0) or null - Purpose: How much of this component is present - Example: <code>500</code>, <code>1.2</code>, <code>0.05</code> - Why it matters: Critical for quantitative analysis, reproducibility</p> <p>Unit - Type: Dropdown choice - Options: <code>uM</code>, <code>mM</code>, <code>M</code>, <code>mg/mL</code>, <code>%w/v</code>, <code>%v/v</code>, <code>equiv</code> - Example: <code>\"uM\"</code> for micromolar - Why it matters: Ensures concentration is unambiguous</p> <p>Isotopic Labelling - Type: Dropdown choice - Options:   - <code>unlabelled</code> - No isotopic labeling   - <code>15N</code> - Nitrogen-15 labeled   - <code>13C</code> - Carbon-13 labeled   - <code>13C,15N</code> - Double labeled   - <code>2H,13C,15N</code> - Triple labeled (deuterated)   - <code>Ile-\u03b41-13CH3</code> - Specific methyl labeling   - <code>Leu/Val-13CH3</code> - Leucine/Valine methyl labeling   - <code>ILV-13CH3</code> - Ile/Leu/Val methyl labeling   - <code>ILV-13CH3,15N</code> - ILV methyl + 15N backbone   - <code>Met-13CH3</code> - Methionine methyl labeling   - <code>Met-13CH3,15N</code> - Met methyl + 15N backbone   - <code>ILVM-13CH3</code> - Ile/Leu/Val/Met methyl labeling   - <code>AILV-13CH3</code> - Ala/Ile/Leu/Val methyl labeling   - <code>custom</code> - Custom labeling (describe in next field) - Why it matters: Essential for experiment selection, data interpretation, repository submission</p> <p>Custom Labelling - Type: Text (appears if \"custom\" selected above) - Purpose: Describe non-standard labeling schemes - Example: <code>\"15N-Trp, 13C-His\"</code> - Why it matters: Flexibility for specialized labeling strategies</p>"},{"location":"guide/schema/#buffer","title":"Buffer","text":"<p>Buffer composition and solution conditions.</p>"},{"location":"guide/schema/#ph","title":"pH","text":"<ul> <li>Type: Number (0-14) or null</li> <li>Purpose: Solution pH</li> <li>Example: <code>7.4</code>, <code>6.5</code>, <code>8.0</code></li> <li>Why it matters: Critical experimental parameter, affects protein behavior</li> </ul>"},{"location":"guide/schema/#components_1","title":"Components","text":"<p>Buffer components like salts, buffering agents, additives. Each has:</p> <p>Name - Type: Text - Example: <code>\"Tris-HCl\"</code>, <code>\"NaCl\"</code>, <code>\"EDTA\"</code>, <code>\"DTT\"</code> - Why it matters: Complete buffer composition for reproducibility</p> <p>Concentration - Type: Number (\u2265 0) or null - Example: <code>50</code>, <code>150</code>, <code>1</code> - Why it matters: Exact buffer recipe</p> <p>Unit - Type: Dropdown choice - Options: <code>uM</code>, <code>mM</code>, <code>M</code>, <code>mg/mL</code>, <code>%w/v</code>, <code>%v/v</code>, <code>%w/w</code> - Why it matters: Unambiguous concentration specification</p>"},{"location":"guide/schema/#chemical-shift-reference","title":"Chemical Shift Reference","text":"<ul> <li>Type: Dropdown choice</li> <li>Options:</li> <li><code>none</code> - No reference compound added</li> <li><code>DSS</code> - 4,4-dimethyl-4-silapentane-1-sulfonic acid (most common)</li> <li><code>TMS</code> - Tetramethylsilane</li> <li><code>TSP</code> - Trimethylsilylpropanoic acid</li> <li>Purpose: Standard for calibrating chemical shift scales</li> <li>Why it matters: Essential for accurate chemical shift reporting, data deposition</li> </ul>"},{"location":"guide/schema/#reference-concentration","title":"Reference Concentration","text":"<ul> <li>Type: Number (\u2265 0) or null</li> <li>Purpose: Concentration of the chemical shift reference</li> <li>Example: <code>0.5</code>, <code>1.0</code></li> <li>Why it matters: Some analysis methods need to know reference concentration</li> </ul>"},{"location":"guide/schema/#reference-unit","title":"Reference Unit","text":"<ul> <li>Type: Dropdown choice</li> <li>Options: <code>uM</code>, <code>mM</code>, <code>M</code>, <code>mg/mL</code>, <code>%w/v</code>, <code>%v/v</code>, <code>%w/w</code></li> <li>Purpose: Unit for reference concentration</li> <li>Why it matters: Complete reference specification</li> </ul>"},{"location":"guide/schema/#solvent","title":"Solvent","text":"<ul> <li>Type: Dropdown choice</li> <li>Options:</li> <li><code>10% D2O</code> - Common for protein NMR (H2O with lock)</li> <li><code>100% D2O</code> - Fully deuterated (no water signal)</li> <li><code>CDCl3</code> - Deuterated chloroform (organic chemistry)</li> <li><code>D6-DMSO</code> - Deuterated DMSO</li> <li><code>D4-Methanol</code> - Deuterated methanol</li> <li><code>custom</code> - Other solvents</li> <li>Purpose: Solvent composition, especially D2O content</li> <li>Why it matters: Affects experiment selection, influences spectra</li> </ul>"},{"location":"guide/schema/#custom-solvent","title":"Custom Solvent","text":"<ul> <li>Type: Text (appears if \"custom\" selected above)</li> <li>Purpose: Describe non-standard solvent mixtures</li> <li>Example: <code>\"50% D2O / 50% CD3OD\"</code></li> <li>Why it matters: Flexibility for special applications</li> </ul>"},{"location":"guide/schema/#nmr-tube","title":"NMR Tube","text":"<p>Physical properties of the NMR tube itself.</p>"},{"location":"guide/schema/#diameter","title":"Diameter","text":"<ul> <li>Type: Dropdown choice</li> <li>Options: <code>1.7 mm</code>, <code>3 mm</code>, <code>5 mm</code></li> <li>Purpose: Tube diameter</li> <li>Why it matters: Different tubes need different probes, affects sensitivity</li> </ul>"},{"location":"guide/schema/#type","title":"Type","text":"<ul> <li>Type: Dropdown choice</li> <li>Options:</li> <li><code>regular</code> - Standard glass NMR tube</li> <li><code>shigemi</code> - Shigemi tube (susceptibility-matched glass plugs)</li> <li><code>shaped</code> - Shaped tube (e.g., for limited sample volumes)</li> <li><code>coaxial</code> - Coaxial tube (for reference samples)</li> <li>Purpose: Specialized tube types</li> <li>Why it matters: Affects data quality, sample volume requirements</li> </ul>"},{"location":"guide/schema/#sample-volume-l","title":"Sample Volume (\u03bcL)","text":"<ul> <li>Type: Number or null</li> <li>Purpose: Sample volume in microliters</li> <li>Example: <code>350</code>, <code>600</code>, <code>180</code></li> <li>Why it matters: Track precious samples, plan experiments</li> </ul>"},{"location":"guide/schema/#samplejet-rack-position","title":"SampleJet Rack Position","text":"<ul> <li>Type: Text</li> <li>Purpose: Position in SampleJet automation system</li> <li>Example: <code>\"A3\"</code>, <code>\"G11\"</code>, <code>\"B7\"</code></li> <li>Why it matters: Essential for automated sample changers, tracking physical location</li> </ul>"},{"location":"guide/schema/#samplejet-rack-id","title":"SampleJet Rack ID","text":"<ul> <li>Type: Text</li> <li>Purpose: Identifier for which rack is being used</li> <li>Example: <code>\"Rack-001\"</code>, <code>\"UserA-Rack1\"</code></li> <li>Why it matters: Track multiple racks, avoid mix-ups in busy facilities</li> </ul>"},{"location":"guide/schema/#laboratory-reference","title":"Laboratory Reference","text":"<p>Links to external documentation and lab systems.</p>"},{"location":"guide/schema/#sample-id","title":"Sample ID","text":"<ul> <li>Type: Text</li> <li>Purpose: Local identifier in your lab's sample tracking system</li> <li>Example: <code>\"CW-2025-042\"</code>, <code>\"Sample-789\"</code></li> <li>Why it matters: Connect NMR data to broader lab records</li> </ul>"},{"location":"guide/schema/#labbook-entry","title":"Labbook Entry","text":"<ul> <li>Type: Text</li> <li>Purpose: Reference to lab notebook page or electronic entry</li> <li>Example: <code>\"LB-2025-10-23-p15\"</code>, <code>\"ELN-Entry-1234\"</code></li> <li>Why it matters: Link spectral data to sample preparation notes</li> </ul>"},{"location":"guide/schema/#notes","title":"Notes","text":"<ul> <li>Type: Free-form text (can be long)</li> <li>Purpose: Any additional information that doesn't fit in structured fields</li> <li>Example:   <pre><code>Sample prepared 24h before NMR.\nSlight precipitation observed after 3 days at 298K.\nRe-centrifuged before experiment 15.\n</code></pre></li> <li>Why it matters: Capture important observations that structured fields can't express</li> </ul>"},{"location":"guide/schema/#metadata","title":"Metadata","text":"<p>Automatic fields managed by Sample Manager. These are not directly editable.</p>"},{"location":"guide/schema/#schema-version_1","title":"Schema Version","text":"<ul> <li>Type: Text</li> <li>Purpose: Version of schema used for this sample</li> <li>Example: <code>\"0.0.3\"</code></li> <li>Why it matters: Ensures backwards compatibility as schema evolves</li> </ul>"},{"location":"guide/schema/#created-timestamp","title":"Created Timestamp","text":"<ul> <li>Type: Date/time (ISO 8601 format)</li> <li>Purpose: When this sample record was created</li> <li>Example: <code>\"2025-10-23T14:30:22.000Z\"</code></li> <li>Why it matters: Marks sample injection time, creates filename</li> </ul>"},{"location":"guide/schema/#modified-timestamp","title":"Modified Timestamp","text":"<ul> <li>Type: Date/time (ISO 8601 format)</li> <li>Purpose: When this record was last edited</li> <li>Example: <code>\"2025-10-23T16:15:30.000Z\"</code></li> <li>Why it matters: Track when changes were made</li> </ul>"},{"location":"guide/schema/#ejected-timestamp","title":"Ejected Timestamp","text":"<ul> <li>Type: Date/time (ISO 8601 format) or null</li> <li>Purpose: When sample was removed from spectrometer</li> <li>Example: <code>\"2025-10-24T10:45:00.000Z\"</code> or <code>null</code> (still active)</li> <li>Why it matters: Mark end of sample lifetime, enable \"active sample\" logic</li> </ul>"},{"location":"guide/schema/#required-vs-optional-fields","title":"Required vs. Optional Fields","text":"<p>All fields are optional!</p> <p>The schema doesn't force you to fill in every field. Enter what's relevant for your sample - you can always add more information later.</p> <p>However, we recommend at minimum: - Sample label - At least one user - Basic sample composition (name, concentration) - pH (for protein NMR)</p>"},{"location":"guide/schema/#example-complete-sample","title":"Example: Complete Sample","text":"<p>Here's what a fully-filled sample looks like:</p> <pre><code>{\n  \"people\": {\n    \"users\": [\"Chris Waudby\"],\n    \"groups\": [\"Waudby Lab\"]\n  },\n  \"sample\": {\n    \"label\": \"HEWL_pH7_15N\",\n    \"components\": [{\n      \"name\": \"Hen Egg White Lysozyme\",\n      \"concentration\": 500,\n      \"unit\": \"uM\",\n      \"isotopic_labelling\": \"15N\"\n    }]\n  },\n  \"buffer\": {\n    \"ph\": 7.4,\n    \"components\": [\n      {\n        \"name\": \"Tris-HCl\",\n        \"concentration\": 50,\n        \"unit\": \"mM\"\n      },\n      {\n        \"name\": \"NaCl\",\n        \"concentration\": 100,\n        \"unit\": \"mM\"\n      }\n    ],\n    \"chemical_shift_reference\": \"DSS\",\n    \"reference_concentration\": 0.5,\n    \"reference_unit\": \"mM\",\n    \"solvent\": \"10% D2O\"\n  },\n  \"nmr_tube\": {\n    \"diameter\": \"5 mm\",\n    \"type\": \"shigemi\",\n    \"sample_volume_uL\": 350,\n    \"samplejet_rack_position\": \"A3\",\n    \"samplejet_rack_id\": \"Rack-001\"\n  },\n  \"reference\": {\n    \"sample_id\": \"CW-2025-042\",\n    \"labbook_entry\": \"ELN-2025-10-23\"\n  },\n  \"notes\": \"Sample prepared fresh on day of experiment. Stable for 3 days at 298K.\",\n  \"metadata\": {\n    \"schema_version\": \"0.0.3\",\n    \"created_timestamp\": \"2025-10-23T14:30:22.000Z\",\n    \"modified_timestamp\": \"2025-10-23T14:35:10.000Z\",\n    \"ejected_timestamp\": \"2025-10-24T10:45:00.000Z\"\n  }\n}\n</code></pre>"},{"location":"guide/schema/#schema-evolution","title":"Schema Evolution","text":"<p>The schema is maintained in a separate repository and evolves based on community feedback.</p>"},{"location":"guide/schema/#version-history","title":"Version History","text":"<p>v0.0.3 (Current) - Reorganized structure with <code>people</code>, <code>sample</code>, <code>buffer</code>, etc. top-level objects - Added <code>groups</code> field for research groups - Expanded isotopic labeling options for methyl-labeled proteins - Added custom labeling and custom solvent fields - Improved field descriptions</p> <p>v0.0.2 - Added chemical shift reference concentration and unit - Expanded tube type options</p> <p>v0.0.1 - Initial schema release</p>"},{"location":"guide/schema/#proposing-changes","title":"Proposing Changes","text":"<p>Want to suggest a new field or change?</p> <ol> <li>Open an issue in the schema repository</li> <li>Describe what field you need and why</li> <li>Community discussion and consensus</li> <li>Schema maintainers implement in next version</li> </ol>"},{"location":"guide/schema/#related-tools","title":"Related Tools","text":"<p>All these tools use the same schema:</p> <ul> <li>topspin-samples (this application) - TopSpin integration</li> <li>nmr-sample-viewer - Web-based viewer/editor</li> <li>nmr-sample-schema - Schema repository</li> </ul> <p>Any changes to the schema are automatically picked up by all tools.</p> <p>Questions about the schema? Contact us or open an issue.</p>"},{"location":"guide/tips/","title":"Tips &amp; Tricks","text":"<p>Power user features and best practices for getting the most out of Sample Manager.</p>"},{"location":"guide/tips/#workflow-integration","title":"Workflow Integration","text":""},{"location":"guide/tips/#integrate-with-your-daily-routine","title":"Integrate with Your Daily Routine","text":"<p>Build Sample Manager into your standard NMR workflow:</p> <ol> <li>Load sample physically \u2192 Type <code>ija</code> \u2192 Fill form \u2192 Save</li> <li>Run experiments as normal in TopSpin</li> <li>Check timeline periodically to review progress</li> <li>Eject sample \u2192 Type <code>eja</code></li> </ol> <p>After a few samples, this becomes second nature.</p>"},{"location":"guide/tips/#command-aliases","title":"Command Aliases","text":"<p>If you prefer shorter commands, you could create TopSpin command aliases:</p> <ul> <li><code>ija</code> \u2192 Consider it as \"inject and annotate\"</li> <li><code>eja</code> \u2192 Consider it as \"eject and annotate\"</li> <li><code>samples</code> \u2192 Main GUI</li> </ul> <p>The short commands make integration seamless.</p>"},{"location":"guide/tips/#template-management","title":"Template Management","text":""},{"location":"guide/tips/#create-template-library","title":"Create Template Library","text":"<p>Build a collection of templates for common sample types:</p> <pre><code>~/nmr-templates/\n\u251c\u2500\u2500 protein_15N.json\n\u251c\u2500\u2500 protein_13C15N.json\n\u251c\u2500\u2500 protein_ILV_methyl.json\n\u251c\u2500\u2500 ligand_binding.json\n\u2514\u2500\u2500 small_molecule.json\n</code></pre> <p>To use a template:</p> <ol> <li>Copy template JSON to your data directory</li> <li>Open Sample Manager</li> <li>Select the template</li> <li>Click \"Duplicate...\"</li> <li>Modify for your specific sample</li> <li>Save</li> </ol>"},{"location":"guide/tips/#facility-wide-templates","title":"Facility-Wide Templates","text":"<p>For core facilities, create standardized templates:</p> <ul> <li>Store in shared network location</li> <li>Document in facility user manual</li> <li>Train new users on template usage</li> <li>Update templates when schema changes</li> </ul> <p>This ensures consistent metadata across all users.</p>"},{"location":"guide/tips/#naming-conventions","title":"Naming Conventions","text":""},{"location":"guide/tips/#develop-a-labeling-scheme","title":"Develop a Labeling Scheme","text":"<p>Consistent sample labels make searching and organizing easier:</p> <p>Example schemes:</p> <pre><code># By protein and condition\nHEWL_pH7_298K\nHEWL_urea_298K\nUbiquitin_pH6.5_310K\n\n# By project and sample number\nProject_Sample_Condition\nTitrationA_001_pH7.0\nTitrationA_002_pH7.5\n\n# By date and identifier\nYYYYMMDD_Protein_Condition\n20251023_HEWL_native\n20251024_HEWL_denatured\n</code></pre> <p>Pick a scheme that works for your lab and stick to it.</p>"},{"location":"guide/tips/#use-descriptive-labels","title":"Use Descriptive Labels","text":"<p>Labels appear in: - Filenames - Sample list - Timeline view - Search results</p> <p>Make them informative but concise:</p> <ul> <li>\u2705 Good: <code>HEWL_pH7_15N_shigemi</code></li> <li>\u274c Too vague: <code>sample1</code></li> <li>\u274c Too long: <code>Hen_Egg_White_Lysozyme_in_50mM_Tris_pH_7_point_4_with_100mM_NaCl_15N_labeled</code></li> </ul>"},{"location":"guide/tips/#data-organization","title":"Data Organization","text":""},{"location":"guide/tips/#directory-structure","title":"Directory Structure","text":"<p>Organize your NMR data directories logically:</p> <pre><code>/data/username/nmr/\n\u251c\u2500\u2500 2025-10-HEWL-titration/\n\u2502   \u251c\u2500\u2500 2025-10-23_140000_HEWL_pH7.json\n\u2502   \u251c\u2500\u2500 2025-10-23_160000_HEWL_pH6.json\n\u2502   \u2514\u2500\u2500 1/ 2/ 3/ ... (experiments)\n\u251c\u2500\u2500 2025-10-ubiquitin/\n\u2502   \u251c\u2500\u2500 2025-10-24_100000_Ub_native.json\n\u2502   \u2514\u2500\u2500 1/ 2/ 3/ ... (experiments)\n\u2514\u2500\u2500 templates/\n    \u2514\u2500\u2500 (template JSON files)\n</code></pre> <p>This keeps related experiments together and makes backups easier.</p>"},{"location":"guide/tips/#sample-versioning","title":"Sample Versioning","text":"<p>If you modify a sample (e.g., add ligand), you have two options:</p> <p>Option 1: Edit existing sample - Good for: Minor adjustments (pH, temperature) - Preserves sample history - Modified timestamp tracks changes</p> <p>Option 2: Create new sample and eject old - Good for: Major changes (added component, different concentration) - Clear separation in timeline - Each sample has distinct metadata</p> <p>Choose based on whether you want one continuous record or separate samples.</p>"},{"location":"guide/tips/#advanced-timeline-usage","title":"Advanced Timeline Usage","text":""},{"location":"guide/tips/#reading-the-timeline","title":"Reading the Timeline","text":"<p>The timeline tells a story of your experiment:</p> <pre><code>14:30 - Sample Created: HEWL_pH7 (A3)\n14:45 - Exp 1: PROTON (quick check)\n15:00 - Exp 2: HSQC (initial spectrum)\n15:30 - Exp 3: HSQC (repeat after shimming)\n16:00 - Exp 4-18: HSQC series (titration)\n18:30 - Sample Ejected\n</code></pre> <p>Use this to: - Document experimental timeline - Check acquisition order - Identify gaps or issues - Generate methods sections for papers</p>"},{"location":"guide/tips/#timeline-for-troubleshooting","title":"Timeline for Troubleshooting","text":"<p>Timeline helps diagnose problems:</p> <p>Example: \"Why did my HSQC look weird?\"</p> <p>Check timeline: - Was a different sample loaded? (check sample created timestamp) - Was there a long gap suggesting sample degradation? - Did previous experiments run successfully? (check experiment list)</p>"},{"location":"guide/tips/#timeline-for-publications","title":"Timeline for Publications","text":"<p>Generate accurate experimental descriptions:</p> <p>\"15N-labeled HEWL (500 \u03bcM) in 50 mM Tris-HCl, pH 7.4, 10% D2O with 0.5 mM DSS as chemical shift reference. Data collected at 298 K as a series of 15 2D 1H-15N HSQC spectra (experiments 4-18) over 4 hours.\"</p> <p>All this information is in your sample JSON and timeline.</p>"},{"location":"guide/tips/#batch-operations","title":"Batch Operations","text":""},{"location":"guide/tips/#multiple-samples-per-directory","title":"Multiple Samples Per Directory","text":"<p>Sample Manager supports multiple samples in one directory (common for SampleJet):</p> <pre><code>/data/screening-project/\n\u251c\u2500\u2500 2025-10-23_140000_compound_A.json  (A1)\n\u251c\u2500\u2500 2025-10-23_143000_compound_B.json  (A2)\n\u251c\u2500\u2500 2025-10-23_150000_compound_C.json  (A3)\n\u2514\u2500\u2500 1/ 2/ 3/ ... (experiments)\n</code></pre> <p>Use the timeline to see which experiments correspond to which samples.</p>"},{"location":"guide/tips/#samplejet-workflows","title":"SampleJet Workflows","text":"<p>For automated sample changers:</p> <ol> <li>Pre-create samples: Use \"Duplicate...\" to create all samples before starting</li> <li>Set rack positions: Fill in SampleJet rack position for each</li> <li>Save all samples: Each gets unique timestamp</li> <li>Run SampleJet: Let automation do its work</li> <li>Review timeline: Check all samples were run correctly</li> </ol> <p>The timeline will show sample injections/ejections interleaved with experiments.</p>"},{"location":"guide/tips/#data-backup-and-sharing","title":"Data Backup and Sharing","text":""},{"location":"guide/tips/#include-json-in-backups","title":"Include JSON in Backups","text":"<p>When backing up NMR data:</p> <pre><code># Backup entire directory including JSON\nrsync -av /opt/topspin/data/user/nmr/project/ /backup/location/\n\n# Or specifically include JSON\nrsync -av --include=\"*.json\" /opt/topspin/data/user/ /backup/\n</code></pre> <p>JSON files are small (typically &lt;5 KB) and compress well.</p>"},{"location":"guide/tips/#share-metadata-with-collaborators","title":"Share Metadata with Collaborators","text":"<p>Send sample JSON with your NMR data:</p> <pre><code># Create archive with data and metadata\ntar czf HEWL_project.tar.gz \\\n  /path/to/data/ \\\n  --include=\"*.json\"\n</code></pre> <p>Collaborators can view JSON files: - In any text editor - With the web-based viewer - With Sample Manager if they have TopSpin</p>"},{"location":"guide/tips/#version-control-for-metadata","title":"Version Control for Metadata","text":"<p>For research projects, track JSON files with git:</p> <pre><code>cd /path/to/project\ngit init\ngit add *.json\ngit commit -m \"Initial sample metadata\"\n</code></pre> <p>This creates a full history of sample metadata changes.</p>"},{"location":"guide/tips/#schema-customization-advanced","title":"Schema Customization (Advanced)","text":""},{"location":"guide/tips/#local-schema-modifications","title":"Local Schema Modifications","text":"<p>If you need custom fields for your lab, you can modify the schema locally:</p> <ol> <li>Edit <code>src/schemas/current/schema.json</code></li> <li>Add your custom fields following JSON Schema syntax</li> <li>Restart Sample Manager</li> </ol> <p>Example: Add \"Storage Location\" field</p> <pre><code>\"reference\": {\n  \"properties\": {\n    \"storage_location\": {\n      \"title\": \"Storage Location\",\n      \"type\": \"string\",\n      \"description\": \"Physical location where sample is stored\"\n    }\n  }\n}\n</code></pre> <p>Schema Compatibility</p> <p>Local schema changes won't be recognized by other tools (web viewer, other installations). For shared changes, propose them to the schema repository.</p>"},{"location":"guide/tips/#troubleshooting-tips","title":"Troubleshooting Tips","text":""},{"location":"guide/tips/#sample-manager-not-responding","title":"Sample Manager Not Responding","text":"<p>If Sample Manager GUI freezes or becomes unresponsive:</p> <ol> <li>Close the window (click X or minimize)</li> <li>Restart TopSpin (this clears the application state)</li> <li>Type <code>samples</code> again to start fresh</li> </ol> <p>The singleton pattern means state persists until TopSpin restarts.</p>"},{"location":"guide/tips/#json-file-errors","title":"JSON File Errors","text":"<p>If you manually edit JSON and break it:</p> <ol> <li>Check syntax - Use a JSON validator (jsonlint.com)</li> <li>Compare with working sample - Copy structure from a valid file</li> <li>Start over - Create new sample, copy values from broken file</li> </ol> <p>Common JSON errors: - Missing comma between fields - Trailing comma after last field - Unmatched brackets/braces - Unquoted strings or improperly escaped quotes</p>"},{"location":"guide/tips/#timeline-missing-experiments","title":"Timeline Missing Experiments","text":"<p>If experiments don't appear in timeline:</p> <ul> <li>Check <code>acqus</code> file exists - Timeline parses this file</li> <li>Check directory is integer - Only numbered directories (1, 2, 3...) are included</li> <li>Check for errors in acqus - Corrupted files may not parse</li> </ul>"},{"location":"guide/tips/#missing-schema-versions","title":"Missing Schema Versions","text":"<p>If you get a schema version error:</p> <pre><code>Error: Schema version 0.0.2 not found\nExpected at: src/schemas/versions/v0.0.2/schema.json\n</code></pre> <p>Solution: Update Sample Manager</p> <pre><code>cd /path/to/topspin-samples\ngit pull\n</code></pre> <p>This downloads missing schema versions.</p>"},{"location":"guide/tips/#performance-tips","title":"Performance Tips","text":""},{"location":"guide/tips/#large-directories","title":"Large Directories","text":"<p>For directories with hundreds of experiments:</p> <ul> <li>Timeline may take a few seconds to load (parsing all acqus files)</li> <li>Consider organizing projects into smaller directories</li> <li>Sample list is always fast (only loads JSON files)</li> </ul>"},{"location":"guide/tips/#network-file-systems","title":"Network File Systems","text":"<p>If your NMR data is on a network drive:</p> <ul> <li>File operations may be slower</li> <li>Consider local templates, then save to network</li> <li>Close Sample Manager when not in use to reduce network traffic</li> </ul>"},{"location":"guide/tips/#next-steps","title":"Next Steps","text":"<p>Now you're a Sample Manager power user! Help improve the tool:</p> <ul> <li>Suggest features - What would make your workflow better?</li> <li>Contribute code - Fix bugs or add features</li> <li>Propose schema changes - New fields you need</li> <li>Share your experience - Help us improve documentation</li> </ul> <p>Have a tip to share? Open an issue or contact us!</p>"},{"location":"guide/usage/","title":"Usage Guide","text":"<p>This guide covers all features of Sample Manager. For a quick introduction, start with the Quick Start Guide.</p>"},{"location":"guide/usage/#main-interface","title":"Main Interface","text":"<p>Type <code>samples</code> in TopSpin to launch the GUI. The window opens and automatically navigates to your current dataset's directory.</p> <p></p> <p>The interface has directory navigation at the top, two tabs (Samples and Timeline) in the middle, and action buttons at the bottom. The status bar shows the current directory, active sample status, and number of samples found.</p>"},{"location":"guide/usage/#directory-navigation","title":"Directory Navigation","text":"<p>Use \"Browse...\" to select any NMR data directory, or \"Go to current dataset\" to navigate to TopSpin's active dataset. The catalogue view shows all samples across your configured root directories with search and filtering capabilities.</p> <p></p> <p>Configure root directories via the \"Settings...\" button to enable multi-directory browsing.</p> <p></p>"},{"location":"guide/usage/#sample-management","title":"Sample Management","text":"<p>The Samples tab displays all sample JSON files in the current directory, showing filename, status (ACTIVE or ejection time), sample label, and users. Click a sample to select it, activating the relevant action buttons.</p>"},{"location":"guide/usage/#creating-samples","title":"Creating Samples","text":"<p>Click \"New...\" to create a sample. Fill in the form fields (all optional) and save. The sample file uses the format <code>YYYY-MM-DD_HHMMSS_[label].json</code>. Creating a new sample automatically ejects any previously active sample in the directory, enforcing the \"one active sample\" rule.</p>"},{"location":"guide/usage/#editing-samples","title":"Editing Samples","text":"<p>Select a sample and click \"Edit\" (or double-click) to modify it. Make changes and save. The <code>modified_timestamp</code> updates automatically. Samples display in read-only mode initially.</p>"},{"location":"guide/usage/#duplicating-samples","title":"Duplicating Samples","text":"<p>Select a sample and click \"Duplicate...\" to copy it as a template. Modify the fields for the new sample and save. This is useful for creating similar samples where only a few parameters change.</p>"},{"location":"guide/usage/#ejecting-samples","title":"Ejecting Samples","text":"<p>Select the active sample and click \"Mark as Ejected\" to add an ejection timestamp. This marks when the sample was removed from the spectrometer. This button is only enabled for active (non-ejected) samples.</p>"},{"location":"guide/usage/#deleting-samples","title":"Deleting Samples","text":"<p>Select an ejected sample and click \"Delete\" to permanently remove the JSON file. Active samples cannot be deleted - they must be ejected first.</p>"},{"location":"guide/usage/#timeline-view","title":"Timeline View","text":"<p>The Timeline tab shows a chronological view combining samples and experiments in the current directory.</p> <p></p> <p>Each row shows either a sample event (Created/Ejected) or an experiment with details like date/time, type, label, nucleus, and number of scans. Experiments are color-coded by dimensionality: black for 1D, blue for 2D, green for 3D+. Double-click any experiment to open that dataset in TopSpin.</p> <p>The Holder column only appears when samples have different SampleJet rack positions. Timeline automatically sorts chronologically using timestamps for samples and directory numbers for experiments.</p>"},{"location":"guide/usage/#retrospective-sample-creation","title":"Retrospective Sample Creation","text":"<p>Right-click in the timeline and select experiments to create a retrospective sample entry. This is useful when annotating old data or when you forgot to create a sample during acquisition.</p> <p></p>"},{"location":"guide/usage/#the-sample-form","title":"The Sample Form","text":"<p>When creating or editing samples, you'll see a form with several sections. All fields are optional.</p> <p></p> <p>People - Users and research groups working with the sample.</p> <p>Sample - Label and components with name, concentration, unit, and isotopic labelling. Multiple components can be added for complex samples.</p> <p>Buffer - pH, solvent, chemical shift reference, and buffer components. Each component has name, concentration, and unit.</p> <p>NMR Tube - Diameter, type, sample volume, SampleJet rack position, and rack ID.</p> <p>Laboratory Reference - Sample ID and labbook entry for cross-referencing external documentation.</p> <p>Notes - Free-form text for additional information.</p> <p>Metadata - Automatically managed fields including schema_version, created_timestamp, modified_timestamp, and ejected_timestamp.</p> <p>For detailed field descriptions, see the schema guide.</p>"},{"location":"guide/usage/#integration-commands","title":"Integration Commands","text":"<p>Sample Manager provides TopSpin commands for workflow integration:</p> <p><code>ija</code> (inject and annotate) - Run when loading a new sample. Opens Sample Manager, creates a new sample form, navigates to current dataset, and auto-ejects any previous active sample.</p> <p><code>eja</code> (eject and annotate) - Run when removing a sample. Finds the active sample and adds an ejection timestamp.</p> <p>These commands combine physical and metadata steps for seamless integration.</p>"},{"location":"guide/usage/#file-management","title":"File Management","text":"<p>Sample metadata is stored as JSON files in your NMR data directories:</p> <pre><code>/data/user/project/\n\u251c\u2500\u2500 2025-10-23_143022_sample1.json\n\u251c\u2500\u2500 2025-10-23_163045_sample2.json\n\u251c\u2500\u2500 1/ 2/ 3/ ...\n</code></pre> <p>Files use human-readable JSON format following the schema. You can edit them manually in a text editor, but be careful with JSON syntax. The GUI is recommended for most users to avoid validation errors.</p>"},{"location":"guide/usage/#schema-versioning","title":"Schema Versioning","text":"<p>New samples use the current schema version (shown in status bar). When opening old samples created with previous schema versions, Sample Manager automatically loads the correct historical schema. When you save, the sample is upgraded to the current schema version.</p> <p>If a sample requires a schema version that's not installed, an error panel displays with instructions to update your installation via <code>git pull</code>.</p>"},{"location":"guide/usage/#application-persistence","title":"Application Persistence","text":"<p>Sample Manager uses a persistent singleton pattern. Running <code>samples</code> multiple times doesn't create multiple windows - it brings the existing window to front. The application maintains state across invocations, clearing only when you restart TopSpin. Close the window to hide it while preserving state.</p> <p>Questions? Contact us or open an issue.</p>"}]}